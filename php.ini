; ItechTube Custom PHP Configuration
; Optimized for video streaming and large file uploads
;
; This configuration fixes the 2MB response limit issue
; and enables smooth video streaming up to 500MB

[PHP]
; Memory limit - 512MB for video processing
memory_limit = 512M

; Maximum execution time - 5 minutes for video processing
max_execution_time = 300

; Maximum input time - 5 minutes for file uploads
max_input_time = 300

; Maximum POST size - 600MB (larger than upload_max_filesize for overhead)
post_max_size = 600M

; Maximum file upload size - 500MB per file
upload_max_filesize = 500M

; Maximum number of files that can be uploaded simultaneously
max_file_uploads = 50

; Enable output buffering disabled for clean streaming
output_buffering = 0

; Session settings - 24 hour session lifetime for chunked uploads
session.gc_maxlifetime = 86400
session.cookie_lifetime = 86400

; Performance optimizations
realpath_cache_size = 10M
realpath_cache_ttl = 7200

; Disable compression for clean video streaming
; This prevents "Transfer-Encoding: chunked" issues
zlib.output_compression = Off

; Error reporting for debugging (disable in production)
error_reporting = E_ALL
display_errors = On
display_startup_errors = On

; Logging
log_errors = On
error_log = /tmp/php_errors.log

; File upload settings
file_uploads = On
upload_tmp_dir = /tmp

; Database connection timeout for large operations
mysqli.default_socket = /var/run/mysqld/mysqld.sock

[Date]
; Default timezone
date.timezone = UTC

[Session]
; Session settings for API authentication
session.use_strict_mode = 1
session.use_cookies = 1
session.use_only_cookies = 1
session.cookie_httponly = 1
session.cookie_samesite = Lax

[mbstring]
; Multibyte string support
mbstring.language = Neutral

